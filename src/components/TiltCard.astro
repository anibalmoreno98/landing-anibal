---
const { className = "" } = Astro.props;
---

<div class={`tilt-card ${className}`}>
  <slot />
</div>

<style>
.tilt-card {
  transition: transform 0.15s ease;
  transform-style: preserve-3d;
}
</style>

<script>
document.querySelectorAll(".tilt-card").forEach(card => {
  card.addEventListener("mousemove", e => {
    const rect = card.getBoundingClientRect();
    const x = e.clientX - rect.left - rect.width / 2;
    const y = e.clientY - rect.top - rect.height / 2;
    card.style.transform = `rotateX(${(-y / 20)}deg) rotateY(${x / 20}deg)`;
  });

  card.addEventListener("mouseleave", () => {
    card.style.transform = "rotateX(0) rotateY(0)";
  });
});
</script>
